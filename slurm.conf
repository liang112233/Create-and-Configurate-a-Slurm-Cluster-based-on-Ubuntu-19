# Example slurm.conf file. Please run configurator.html
# (in doc/html) to build a configuration file customized
# for your environment.
#
#
# slurm.conf file generated by configurator.html.
#
# See the slurm.conf man page for more information.
#
ClusterName=fake
ControlMachine=node2
#ControlAddr=10.161.77.132 #control node address
#BackupController=
#BackupAddr=
#
SlurmUser=slurm #
#SlurmdUser=root
SlurmctldPort=6817
SlurmdPort=6818
AuthType=auth/munge #munge
#JobCredentialPrivateKey=
#JobCredentialPublicCertificate=
StateSaveLocation=/opt/slurm/spool/slurm/ctld #
SlurmdSpoolDir=/opt/slurm/spool/slurm/d #
SwitchType=switch/none
MpiDefault=none
SlurmctldPidFile=/opt/slurm/run/slurmctld.pid #
SlurmdPidFile=/opt/slurm/run/slurmd.pid #
ProctrackType=proctrack/pgid #
#PluginDir=
FirstJobId=1000
ReturnToService=0
#MaxJobCount=
#PlugStackConfig=
#PropagatePrioProcess=
#PropagateResourceLimits=
#PropagateResourceLimitsExcept=
#Prolog=
#Epilog=
#SrunProlog=
#SrunEpilog=
#TaskProlog=
#TaskEpilog=
#TaskPlugin=
#TrackWCKey=no
#TreeWidth=50
#TmpFS=
#UsePAM=
#
# TIMERS
SlurmctldTimeout=300
SlurmdTimeout=300
InactiveLimit=0
MinJobAge=300
KillWait=30
#TCPTimeout=300
Waittime=0
#
# SCHEDULING
SchedulerType=sched/backfill
#SchedulerAuth=
#SelectType=select/linear
#FastSchedule=1
#PriorityType=priority/multifactor
#PriorityDecayHalfLife=14-0
#PriorityUsageResetPeriod=14-0
#PriorityWeightFairshare=100000
#PriorityWeightAge=1000
#PriorityWeightPartition=10000
#PriorityWeightJobSize=1000
#PriorityMaxAge=1-0
#
# LOGGING
SlurmctldDebug=3
SlurmctldLogFile=/opt/slurm/log/slurmctld.log #control node log
SlurmdDebug=3
SlurmdLogFile=/opt/slurm/log/slurmd.log #worker's log日志
JobCompType=jobcomp/none
#slurm pluginDir
PluginDir=/opt/slurm/lib:/opt/slurm/lib/slurm
#
##JobCompLoc=
#
# ACCOUNTING
JobAcctGatherType=jobacct_gather/linux
JobAcctGatherFrequency=1
#AccountingStorageEnforce=limits,qos
AccountingStorageType=accounting_storage/slurmdbd
AccountingStorageHost=localhost
AccountingStoragePort=6819
AccountingStorageLoc=slurm_acct_db
AccountingStoragePass=/var/run/munge/munge.socket.2
AccountingStorageUser=slurm
#
# COMPUTE NODES
#CPUs cores，corepersocket,threadspersocket, using lscpu to check，realmemory ，/proc/cpuinfo state=unknown
NodeName=node2 Sockets=1 CPUs=2 CoresPerSocket=2 ThreadsPerCore=1 RealMemory=3813 State=UNKNOWN
NodeName=node2 Sockets=1 CPUs=2 CoresPerSocket=2 ThreadsPerCore=1 RealMemory=3813 State=UNKNOWN
NodeName=node0 Sockets=1 CPUs=4 CoresPerSocket=4 ThreadsPerCore=1  RealMemory=7944 State=UNKNOWN
NodeName=node1 Sockets=1 CPUs=4 CoresPerSocket=4 ThreadsPerCore=1  RealMemory=7852 State=UNKNOWN

#partitionname have control and compute for now，default=yes means using as worker
PartitionName=control Nodes=node2 Default=NO MaxTime=INFINITE State=UP
PartitionName=compute Nodes=node0,node1 Default=Yes MaxTime=INFINITE State=UP
